<template>
  <header>
    <nav class="navbar navbar-expand-lg navbar-light">
      <!-- –õ–æ–≥–æ -->
      <a class="navbar-brand fw-bold" href="/">
        <img src="/logo.png" style="height: 45px;" alt="logo" />
      </a>

      <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∏ –±—É—Ä–≥–µ—Ä–∞ (–ø–ª–∞–Ω—à–µ—Ç—ã) -->
      <div class="d-flex align-items-center d-lg-none">
        <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ -->
        <a href="#" @click.prevent="openPopup" class="btn-accent btn-sm me-2">–ó–ê–ö–ê–ó–ê–¢–¨ –ö–û–ù–°–£–õ–¨–¢–ê–¶–ò–Æ</a>
        <!-- –ë—É—Ä–≥–µ—Ä -->
        <button
          class="navbar-toggler"
          type="button"
          @click="toggleMenu"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>

      <!-- –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–µ–Ω—é -->
      <div :class="['collapse', 'navbar-collapse', 'justify-content-center', 'flex-grow-1', { show: isMenuOpen }]" id="navmenu">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item"><a href="#about" class="nav-link">–û –∫–æ–º–ø–∞–Ω–∏–∏</a></li>
          <li class="nav-item"><a href="#team" class="nav-link">–ö–æ–º–∞–Ω–¥–∞</a></li>
          <li class="nav-item"><a href="#partners" class="nav-link">–ü–∞—Ä—Ç–Ω—ë—Ä—ã –∏ –∫–ª–∏–µ–Ω—Ç—ã</a></li>
          <li class="nav-item"><a href="#services" class="nav-link">–£—Å–ª—É–≥–∏</a></li>
          <li class="nav-item"><a href="#contacts" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
        </ul>
      </div>

      <!-- Dropdown —Å —è–∑—ã–∫–∞–º–∏ -->
      <div class="dropdown d-none d-lg-block language-dropdown">
        <button class="btn dropdown-toggle" style="color: #576182;" type="button" id="languageDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          {{ currentLanguage }}
        </button>
        <ul class="dropdown-menu" aria-labelledby="languageDropdown">
          <li><a class="dropdown-item" href="#" @click.prevent="setLanguage('RU')">–†—É—Å—Å–∫–∏–π</a></li>
          <li><a class="dropdown-item" href="#" @click.prevent="setLanguage('KZ')">“ö–∞–∑–∞“õ—à–∞</a></li>
          <li><a class="dropdown-item" href="#" @click.prevent="setLanguage('EN')">English</a></li>
        </ul>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∞ (–¥–µ—Å–∫—Ç–æ–ø) -->
      <div class="d-none d-lg-block">
        <a href="#" @click.prevent="openPopup" class="btn-accent">–ó–ê–ö–ê–ó–ê–¢–¨ –ö–û–ù–°–£–õ–¨–¢–ê–¶–ò–Æ</a>
      </div>

      <PopupContact :isOpen="showPopup" @close="showPopup = false" />
    </nav>
  </header>
</template>

<script>
import PopupContact from '@/components/home/PopupContact.vue';
export default {
  components: { PopupContact },
  name: "Header",
  data() {
    return {
      currentLanguage: 'RU',
      isMenuOpen: false,
      showPopup: false
    }
  },
  methods: {
    setLanguage(lang) {
      this.currentLanguage = lang;
    },
    toggleMenu() {
      this.isMenuOpen = !this.isMenuOpen;
    },
    openPopup() {
      this.showPopup = true;
    }
  }
};
</script>

<style scoped>
header {
  background: #fff;
  border-bottom: 1px solid #eee;
}

/* üîπ —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã —É navbar */
header .navbar {
  padding-left: 24px;
  padding-right: 24px;
  padding-top: 12px;
  padding-bottom: 12px;
}

/* üîπ –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é */
.navbar-nav .nav-link {
  margin: 0 12px;
  color: #576182;
  font-weight: 400;
  font-size: 16px;
  letter-spacing: 0.2px;
  transition: color 0.3s ease;
}
.navbar-nav .nav-link:hover {
  color: #000f42;
}

/* üîπ –∫–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∞ */
.btn-accent {
  background: #000F42;
  color: #fff;
  padding: 12px 30px;
  border-radius: 60px;
  font-weight: 400;
  font-size: 15px;
  text-decoration: none;
  transition: all 0.3s ease;
  display: inline-block;
  text-align: center;
}
.btn-accent:hover {
  background: #001a6d;
}

/* üîπ –º–∞–ª–µ–Ω—å–∫–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ */
.btn-accent.btn-sm {
  padding: 8px 16px;
  font-size: 14px;
  white-space: nowrap;
}

/* üîπ —è–∑—ã–∫–æ–≤–æ–π dropdown */
.language-dropdown .btn {
  background: transparent;
  border: none;
  color: #576182;
  font-weight: 400;
  font-size: 16px;
  text-decoration: none;
  padding: 8px 15px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.language-dropdown .btn:hover {
  color: #000f42;
  text-decoration: none;
}

.language-dropdown .btn:focus {
  box-shadow: none;
  text-decoration: none;
}

.language-dropdown .btn::after {
  display: none;
}

.navbar-toggler {
  border: none;
}

/* üîπ –∞–¥–∞–ø—Ç–∏–≤ */
@media (max-width: 992px) {
  .navbar-nav {
    text-align: center;
  }

  .navbar-nav .nav-link {
    margin: 8px 0;
    font-size: 15px;
  }

  /* –ö–Ω–æ–ø–∫–∞ –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º –º–µ–Ω—é –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
  .collapse .btn-accent {
    display: inline-block;
    margin: 16px auto;
    padding: 10px 24px;
    font-size: 15px;
  }

  li.nav-item {
    text-align: justify;
  }

  .collapse .navbar-nav::after {
    content: '';
    display: block;
    margin: 10px 0;
  }

  header .navbar {
    padding: 16px 24px;
  }
}

/* –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–ª–∞–Ω—à–µ—Ç–æ–≤ –Ω–∞ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
@media (max-width: 576px) {
  .btn-accent.btn-sm {
    display: none !important;
  }
  
  /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –≤ –º–µ–Ω—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  .collapse .btn-accent {
    display: inline-block !important;
  }
}

/* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–ª–∞–Ω—à–µ—Ç–æ–≤ —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö */
@media (min-width: 577px) and (max-width: 992px) {
  .btn-accent.btn-sm {
    display: inline-block !important;
  }
  
  /* –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –≤ –º–µ–Ω—é –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö */
  .collapse .btn-accent {
    display: none !important;
  }
}
</style>